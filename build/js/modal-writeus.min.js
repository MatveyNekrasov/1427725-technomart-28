"use strict";var modalBg=document.querySelector(".modal-bg"),writeusSection=document.querySelector(".modal-writeus-js"),writeusForm=writeusSection.querySelector(".modal-writeus-form-js"),writeusNameInput=writeusSection.querySelector(".modal-writeus-name-js"),writeusEmailInput=writeusSection.querySelector(".modal-writeus-email-js"),writeusTextInput=writeusSection.querySelector(".modal-writeus-text-js"),writeusOpenBtn=document.querySelector(".contacts__btn-writeus"),writeusCloseBtn=writeusSection.querySelector(".modal-writeus-close-js"),isStorageSupport=!0;try{localStorage.getItem("login")}catch(e){isStorageSupport=!1}writeusOpenBtn.addEventListener("click",function(e){e.preventDefault(),modalBg.classList.add("modal-bg--visible"),writeusSection.classList.add("modal-container--visible"),isStorageSupport&&(writeusNameInput.value=localStorage.getItem("login"),writeusEmailInput.value=localStorage.getItem("email")),writeusNameInput.focus(),writeusNameInput.value&&(writeusEmailInput.focus(),writeusEmailInput.value&&writeusTextInput.focus())}),writeusForm.addEventListener("submit",function(e){writeusNameInput.value&&writeusEmailInput.value?isStorageSupport&&(localStorage.setItem("login",writeusNameInput.value),localStorage.setItem("email",writeusEmailInput.value)):(e.preventDefault(),writeusSection.classList.remove("modal-container--shake"),writeusForm.offsetWidth,writeusSection.classList.add("modal-container--shake"))}),writeusCloseBtn.addEventListener("click",function(e){e.preventDefault(),writeusSection.classList.remove("modal-container--visible"),writeusSection.classList.remove("modal-container--shake"),modalBg.classList.remove("modal-bg--visible")}),window.addEventListener("keydown",function(e){27===e.keyCode&&writeusSection.classList.contains("modal-container--visible")&&(e.preventDefault(),writeusSection.classList.remove("modal-container--visible"),writeusSection.classList.remove("modal-container--shake"),modalBg.classList.remove("modal-bg--visible"))});